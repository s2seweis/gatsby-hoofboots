"use strict";(self.webpackChunkhufschuhapp_frontend=self.webpackChunkhufschuhapp_frontend||[]).push([[431],{8625:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var a=n(7294),r=n(2917),i=n(6936),l=n(4517),o=n(2830),s=n(4051),c=n(574),u=n(8117),f=n(6944);const h=u.default.div.withConfig({displayName:"ConfirmText__ConfirmTextWrapper",componentId:"sc-154ktes-0"})(["display:flex;flex-direction:column;align-items:center;margin:"," 0;p{margin:0 0 ",";text-align:center;}.checkbox-row{display:flex;flex-direction:row;align-items:center;}input{width:",";height:",";margin:0 "," 0 0;}label{margin:0;}button{align-self:center;margin:"," 0 !important;}"],f.W.spaceXs,f.W.spaceSm,f.W.spaceLg,f.W.spaceLg,f.W.spaceXs,f.W.spaceXs);function d(e){let{text:t,buttonText:n,value:r,onChange:i,name:l,checkboxText:s,link:c}=e;return a.createElement(h,null,a.createElement("p",null,t),a.createElement("div",{className:"checkbox-row"},a.createElement("input",{id:"confirm-text-checkbox",type:"checkbox",onChange:e=>i(e),checked:r,name:l}),a.createElement("label",{htmlFor:"confirm-text-checkbox"},s)),a.createElement(o.z,{className:"secondary",target:"_blank",href:c},n))}var m=n(8846);const p={Geburtsjahr:"",Groesse:"",Gewicht:"",Letzte_Hufbearbeitung:"",Letzte_Hufschuhe:{},Letzte_Hufschuhe_selected:[],Terrain:"",Terrain_Andere:"",Hufform:"",Hufbearbeitung_Gelesen:!1};function g(e){let{cms:t,saveFactFileGeneral:n,horse:r,cmsMisc:c,initialState:u}=e;const{0:f,1:h}=(0,a.useState)(u||p),g=(0,a.useRef)(),{0:b,1:v}=(0,a.useState)("");return a.createElement(l.K,{onSubmit:function(e){e.preventDefault();let a=!1;const i=["Letzte_Hufschuhe","Letzte_Hufschuhe_selected","Hufschuhe_Fuer","Stellungsfehler","Terrain_Andere"];if(Object.keys(f).forEach((e=>{const t=f[e];t||("object"!=typeof t||0!==Object.keys(t).length)&&t||e.endsWith("Andere")||i.includes(e)||(a=!0)})),a)return v(t.Meta.FelderFehlen),void(g.current.style.display="inline");n(r.id,f)}},a.createElement(m.Z,null),Object.keys(t).map(((e,n)=>{var r,l,o,u,m,p;if("Meta"===e||"Hufschuhe_Fuer"===e||"Stellungsfehler"===e)return;const g=t[e];let b,v;"Letzte_Hufbearbeitung"===e&&(f.Letzte_Hufbearbeitung===g.Optionen.strapi_json_value[g.Optionen.length-1]&&(b=!0),v=a.createElement(d,{text:g.Erklaerung,checkboxText:g.Gelesen,buttonText:g.InfoButton,link:i.Z.padsInformation,value:f.Hufbearbeitung_Gelesen,onChange:e=>{e.persist(),h((t=>({...t,Hufbearbeitung_Gelesen:e.target.checked})))}}));const _=t.Terrain.Optionen;return"Terrain"===e&&(null===(r=f.Terrain)||void 0===r?void 0:r.value)===_[_.length-1]&&(v=a.createElement("div",{className:"insert-field"},a.createElement("label",{htmlFor:e+"additional-field"},t.Terrain.Titel_Andere),a.createElement(s.X,{id:e+"additional-field",state:f,setState:h,name:"Terrain_Andere",value:f.Terrain_Andere,type:"text"}))),a.createElement(s.B,{title:g.Titel,subtext:g.Subtext,help:g.Hilfstext,hint:g.Hinweis,showHint:b,key:"input-group"+n,insertAfterInput:v},a.createElement(s.X,{state:f,value:f[e],setState:h,name:e,options:g.Optionen,type:(null===(l=g.Typ)||void 0===l?void 0:l.toLowerCase())||"select",images:[null===(o=g.Bild1)||void 0===o?void 0:o.localFile,null===(u=g.Bild2)||void 0===u?void 0:u.localFile,null===(m=g.Bild3)||void 0===m?void 0:m.localFile],showRanking:f.Letzte_Hufschuhe&&!(null===(p=Object.keys(f.Letzte_Hufschuhe))||void 0===p||!p.length),starSelectTitle:c.StarSelectTitle}))})),a.createElement("div",{className:"bottom-row"},a.createElement("span",{className:"fill-out",ref:g},b),a.createElement(o.z,{className:"primary save-button"},t.Meta.Speichern)))}var b=n(1001),v=n(743),_=n(757);const H=e=>{var t;let{horseId:n,cms:r,cmsMisc:l}=e;const o=(0,v.v9)((e=>e.auth.user)),{data:s,isLoading:u}=(0,b.wD)({userId:null==o?void 0:o.id,horseId:n},{refetchOnMountOrArgChange:!0,skip:!n}),[f]=(0,b.IE)();return u?a.createElement("span",null,"LÃ¤dt.."):a.createElement(g,{cms:r,cmsMisc:l,saveFactFileGeneral:(e,t)=>{(async e=>{const t={factFileGeneral:{yearOfBirth:e.Geburtsjahr,height:e.Groesse,weight:e.Gewicht,lastHoofBoots:e.Letzte_Hufschuhe,hoofShape:e.Hufform,lastHoofTrimming:e.Letzte_Hufbearbeitung.value,confirmedHoofTrimmingNote:e.Hufbearbeitung_Gelesen,terrain:e.Terrain.value,terrainOther:e.Terrain_Andere}};await f({userId:null==o?void 0:o.id,horseId:n,data:t}),await(0,c.navigate)(i.Z.detailView(n))})(t)},horse:s,initialState:s.factFileGeneral?{Geburtsjahr:s.factFileGeneral.yearOfBirth,Groesse:s.factFileGeneral.height,Gewicht:s.factFileGeneral.weight,Letzte_Hufschuhe:s.factFileGeneral.lastHoofBoots,Hufform:s.factFileGeneral.hoofShape,Letzte_Hufbearbeitung:(0,_.t)(r.Letzte_Hufbearbeitung.Optionen.strapi_json_value,s.factFileGeneral.lastHoofTrimming),Terrain:(0,_.t)(r.Terrain.Optionen.strapi_json_value,s.factFileGeneral.terrain),Terrain_Andere:s.factFileGeneral.terrainOther,Hufbearbeitung_Gelesen:s.factFileGeneral.confirmedHoofTrimmingNote,Letzte_Hufschuhe_selected:null!==(t=s.factFileGeneral)&&void 0!==t&&t.lastHoofBoots?Object.keys(s.factFileGeneral.lastHoofBoots).map((e=>{var t,n,a;return(0,_.t)(r.Letzte_Hufschuhe.Optionen.strapi_json_value,null===(t=s.factFileGeneral)||void 0===t||null===(n=t.lastHoofBoots)||void 0===n||null===(a=n[e])||void 0===a?void 0:a.name)})):[]}:p})};function G(e){const{data:t,location:n,id:l}=e;return a.createElement(r.Z,{title:"Allgemeines",horseId:l,subtitleKey:"name",showNavigation:!0,location:n,lastRoute:i.Z.detailView(l)},a.createElement(H,{cms:t.strapiSteckbriefAllgemeines,cmsMisc:t.strapiMisc,horseId:l}))}},8846:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(7294),r=n(574),i=n(8117),l=n(3723);const o=i.default.div.withConfig({displayName:"Logo__LogoWrapper",componentId:"sc-1oogppf-0"})(["width:100%;display:flex;justify-content:center;"]);function s(){return a.createElement(r.StaticQuery,{query:"114436975",render:e=>a.createElement(o,null,a.createElement(l.G,{image:e.logoBig.childImageSharp.gatsbyImageData,alt:"Equilandoo Logo"}))})}}}]);
//# sourceMappingURL=component---src-pages-pferde-[id]-allgemeines-tsx-63f338451219e8d8c754.js.map