"use strict";(self.webpackChunkhufschuhapp_frontend=self.webpackChunkhufschuhapp_frontend||[]).push([[678],{739:function(e,t,n){n.d(t,{o:function(){return i}});var r=n(7294),i=function(e){e.fill,e.stroke,e.strokeLinecap,e.strokeLinejoin,e.strokeWidth;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.createElement("path",{d:"M 23 4 C 20.957031 4 19.695313 5.207031 19 6.15625 L 19 5 C 3.183594 5 3 27.769531 3 28 L 7 28 C 7 28 6.984375 23.125 8.53125 18.3125 C 9.304688 15.90625 10.480469 13.527344 12.15625 11.8125 C 13.832031 10.097656 15.972656 9 19 9 L 19.625 9 L 19.90625 8.4375 C 19.90625 8.4375 20.792969 6.953125 22 6.3125 L 22 9.25 L 26.09375 17.4375 L 26.1875 17.59375 L 26.3125 17.71875 C 26.714844 18.097656 26.867188 18.457031 26.9375 18.6875 C 26.992188 18.855469 26.96875 18.851563 26.96875 18.875 C 26.941406 18.972656 26.898438 19.183594 26.71875 19.46875 C 26.5 19.816406 26.304688 20 26 20 C 25.695313 20 25.5 19.816406 25.28125 19.46875 C 25.0625 19.121094 24.96875 18.75 24.96875 18.75 L 24.75 17.90625 L 23.875 18 C 23.875 18 23.042969 18.097656 22.125 17.84375 C 21.207031 17.589844 20.339844 17.140625 19.96875 15.75 L 19.625 14.46875 L 18.5 15.125 C 17.207031 15.882813 16.457031 17.039063 16.3125 18.21875 C 16.167969 19.398438 16.515625 20.535156 16.9375 21.65625 C 17.777344 23.898438 19 26.183594 19 28 L 21 28 C 21 25.378906 19.535156 22.945313 18.78125 20.9375 C 18.40625 19.933594 18.234375 19.085938 18.3125 18.46875 C 18.359375 18.09375 18.511719 17.773438 18.78125 17.46875 C 19.542969 18.660156 20.585938 19.503906 21.59375 19.78125 C 22.523438 20.039063 22.902344 19.957031 23.34375 19.9375 C 23.433594 20.171875 23.40625 20.230469 23.59375 20.53125 C 24 21.183594 24.804688 22 26 22 C 27.195313 22 28 21.183594 28.40625 20.53125 C 28.8125 19.878906 28.96875 19.25 28.96875 19.25 L 29 19.15625 L 29 19.0625 C 29 19.0625 29.007813 18.582031 28.84375 18.0625 C 28.707031 17.625 28.347656 17.09375 27.875 16.5625 L 27.90625 16.5625 L 24 8.75 L 24 4 Z M 18.46875 7.03125 C 18.464844 7.039063 18.441406 7.054688 18.4375 7.0625 C 18.03125 7.082031 17.636719 7.101563 17.25 7.15625 C 16.9375 7.199219 16.640625 7.277344 16.34375 7.34375 C 16.640625 7.265625 16.9375 7.207031 17.25 7.15625 C 17.640625 7.089844 18.050781 7.050781 18.46875 7.03125 Z M 22 12 C 21.449219 12 21 12.449219 21 13 C 21 13.550781 21.449219 14 22 14 C 22.550781 14 23 13.550781 23 13 C 23 12.449219 22.550781 12 22 12 Z"}))}},8846:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(7294),i=n(1082),o=n(9692),a=n(3723),l=o.default.div.withConfig({displayName:"Logo__LogoWrapper",componentId:"sc-1oogppf-0"})(["width:100%;display:flex;justify-content:center;"]);function s(){return r.createElement(i.StaticQuery,{query:"114436975",render:function(e){return r.createElement(l,null,r.createElement(a.G,{image:e.logoBig.childImageSharp.gatsbyImageData,alt:"Equilandoo Logo"}))}})}},9481:function(e,t,n){n.d(t,{x:function(){return a}});var r=n(9692),i=n(4297),o=n(6944),a=r.default.div.withConfig({displayName:"ProfilePicWrapper",componentId:"sc-1ed1p1d-0"})(["border-radius:99px;border-width:1px;border-color:",";overflow:hidden;background-color:",";display:flex;justify-content:center;align-items:center;svg{path{fill:",";}}&.small{width:",";height:",";svg{width:",";height:",";margin-left:-6px;margin-top:3px;}img{width:",";}}&.large{width:",";min-width:",";height:",";svg{width:",";height:",";}img{width:",";}}"],i.Z.greys[500],i.Z.greys[50],i.Z.greys[300],o.W.spaceXl,o.W.spaceXl,o.W.spaceXl,o.W.spaceXl,o.W.spaceXl,o.W.space2xl,o.W.space2xl,o.W.space2xl,o.W.space2xl,o.W.space2xl,o.W.space2xl)},2056:function(e,t){t.Z={small:"360px",w400:"400px",big:"800px"}},6780:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var r=n(7294),i=n(5131),o=n(2256),a=n(9692),l=n(8135),s=n(6944),d=n(4297),c=a.default.div.withConfig({displayName:"styled__ListViewWrapper",componentId:"sc-xy1pap-0"})(["height:calc(100vh - ",");width:100%;overflow-y:clip;margin:0 auto;"],l.Z.headerHeight),p=n(5861),u=n(8718),m=n.n(u),f=n(4687),g=n.n(f),h=n(739),x=n(2830),v=n(74),w=n(3989),y=a.default.form.withConfig({displayName:"styled__AddHorseForm",componentId:"sc-njivax-0"})(["height:100vh;width:100%;padding:"," 0 0 0;display:flex;flex-direction:column;align-items:flex-start;background-color:",";* + .form-row{margin-top:",";}.form-meta{h2{margin:0 0 ",";font-size:",";font-weight:600;}p{margin:0;color:",";font-size:",";}}.input-group{display:flex;flex-direction:column;label{color:",";margin-bottom:",";font-size:",";font-weight:600;}.input{padding:"," ",";border-style:solid;border-width:1px;border-radius:",";border-color:",";font-size:",";}}.picture-input-row{display:flex;align-items:center;input{display:none;}.input-file{width:100px;margin:0 0 0 ",";padding:"," ",";display:flex;justify-content:center;align-items:center;padding:",";color:",";border-style:solid;border-width:1px;border-radius:",";font-size:",";letter-spacing:0.12em;cursor:pointer;background-color:white;color:",";}}.button-row{padding-right:",";box-sizing:border-box;width:100%;display:flex;flex-direction:row;justify-content:space-between;}.delete-horse{display:flex;align-items:center;padding:0;margin:"," 0 0 0;color:",";border-style:none;background-color:transparent;cursor:pointer;svg{stroke:"," !important;height:16px;width:16px;margin-right:",";}&:hover,&:focus{color:",";svg{stroke:"," !important;}}}.message{margin:"," 0 0 0;color:red;}"],s.W.spaceMd,d.Z.pink[0],s.W.spaceLg,s.W.space3xs,v.Z.textLg,d.Z.text.secondary,v.Z.textSm,d.Z.greys[800],s.W.space2xs,v.Z.textSm,s.W.space3xs,s.W.space2xs,w.Z.small,d.Z.greys[300],v.Z.textMd,s.W.spaceMd,s.W.space3xs,s.W.space2xs,s.W.spaceXs,d.Z.primary[170],w.Z.small,v.Z.textMd,d.Z.pineGreen[80],s.W.spaceXs,s.W.spaceLg,d.Z.red.defaut,d.Z.red.defaut,s.W.space3xs,d.Z.red.dark,d.Z.red.dark,s.W.spaceMd),k=n(9481),b=function(e){var t={fill:e.fill||"none",stroke:e.stroke||"#000",strokeLinecap:e.strokeLinecap||"round",strokeLineJoin:e.strokeLineJoin||"round",strokeWidth:e.strokeWidth||"2"};return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",style:t},r.createElement("polyline",{points:"3 6 5 6 21 6"}),r.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),r.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),r.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))},E=n(7933),C=n(2425),W=n(3808),L=n(1001);function Z(e){var t=e.closeModal,n=e.cms,i=e.isOpen,a=(0,o.v9)((function(e){return e.auth.user})),l=(0,o.v9)((function(e){return e.appState})),s=l.selectedHorse,d=(0,C.T)(),c=(0,L.wD)({userId:null==a?void 0:a.id,horseId:s.id},{refetchOnMountOrArgChange:!0,skip:!(null!=a&&a.id&&null!=s&&s.id)}),u=c.data,f=c.isFetching,v=c.isLoading,w=L.sP.endpoints.getHorse.useQuerySubscription({userId:null==a?void 0:a.id,horseId:null==s?void 0:s.id},{refetchOnMountOrArgChange:!0,skip:!(null!=a&&a.id&&null!=s&&s.id)}).refetch,Z={name:"",profilePicture:""},M=(0,r.useState)(u||Z),N=M[0],P=M[1],I=r.createRef(),_=(0,r.useState)(!1),j=_[0],z=_[1],H=(0,r.useState)(""),O=H[0],S=H[1],B=(0,L.WR)()[0],X=(0,L.IE)()[0],F=(0,L.OC)()[0];return(0,r.useEffect)((function(){u&&null!=s&&s.id&&null!=a&&a.id?P(m()(u,["name","profilePicture"])):P(Z)}),[u,i]),(0,r.useEffect)((function(){i&&null!=s&&s.id&&null!=a&&a.id&&w()}),[null==s?void 0:s.id,i]),(0,r.useEffect)((function(){i&&null!=s&&s.id&&null!=a&&a.id&&P(m()(u,["name","profilePicture"]))}),[v]),(0,r.useEffect)((function(){var e,t;if(null!=I&&null!==(e=I.current)&&void 0!==e&&e.files&&null!=I&&null!==(t=I.current)&&void 0!==t&&t.files[0]){var n=new FileReader;n.onload=function(e){P((function(t){return Object.assign({},t,{profilePicture:e.target.result})}))},n.readAsDataURL(I.current.files[0])}}),[j]),v||f?r.createElement("div",null,"Loading..."):r.createElement(y,{onSubmit:function(e){return function(e,r){if(e.preventDefault(),r.name)if(r.profilePicture){var i=Object.assign({name:r.name},r.profilePicture&&{profilePicture:r.profilePicture});s.id?X({userId:null==a?void 0:a.id,horseId:s.id,data:i}).then((function(e){if(e.error)return E.Tb(e.error),S(n.Fehler),E.Tb(e.error),void(413===e.error.response.status&&S("Das Bild ist zu gro√ü."));t()})):B({userId:null==a?void 0:a.id,data:i}).then((function(e){if(e.error)return E.Tb(e.error),S(n.Fehler),void console.error(e.error);t()}))}else S(n.Kein_Bild);else S(n.Alle_Felder)}(e,N)},onReset:function(){console.log("reset"),d((0,W.yg)({selectedHorse:{id:void 0}})),t()}},r.createElement("div",{className:"form-meta"},r.createElement("h2",null,s.id?n.Titel_Pferd_Bearbeiten:n.Titel),r.createElement("p",null,n.Hinweis)),r.createElement("div",{className:"input-group form-row"},r.createElement("label",{htmlFor:"new-pferde-name"},n.Input_Name),r.createElement("input",{id:"new-pferde-name",name:"name",type:"text",value:N.name,className:"input",onChange:function(e){!function(e){e.persist(),P((function(t){var n;return Object.assign({},t,((n={})[e.target.name]=e.target.value,n))}))}(e)}})),r.createElement("div",{className:"input-group form-row"},r.createElement("label",null,n.Input_Foto),r.createElement("div",{className:"picture-input-row"},r.createElement(k.x,{className:"small"},N.profilePicture?r.createElement("img",{id:"Profilbild Platzhalter",src:N.profilePicture,alt:"Profilbild Platzhalter"}):r.createElement(h.o,{fill:void 0,stroke:void 0,strokeLinecap:void 0,strokeLinejoin:void 0,strokeWidth:void 0})),r.createElement("label",{htmlFor:"file-upload",className:"input input-file"},n.Input_Foto_Aendern),r.createElement("input",{id:"file-upload",type:"file",name:"imageSrc",ref:I,accept:"image/png, image/jpeg",onChange:function(){z(!j)}}))),null!=u&&u.id?r.createElement("button",{className:"delete-pferde",onClick:(0,p.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({userId:null==a?void 0:a.id,horseId:s.id});case 2:t();case 3:case"end":return e.stop()}}),e)}))),style:{display:s.id?"flex":"none",color:"red",marginTop:"1rem",backgroundColor:"transparent",border:"none",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},type:"button"},r.createElement(b,{fill:void 0,stroke:void 0,strokeLinecap:void 0,strokeLineJoin:void 0,strokeWidth:void 0})," ",n.Pferd_Loeschen):"",r.createElement("p",{className:"message"},O),r.createElement("div",{className:"form-row button-row"},r.createElement(x.z,{className:"secondary",type:"reset"},n.Abbrechen),r.createElement(x.z,{className:"primary",type:"submit"},n.Speichern)))}var M=n(1082),N=n(6936),P=n(3723),I=n(2056),_=a.default.section.withConfig({displayName:"styled__HorseListWrapper",componentId:"sc-1ummtq3-0"})(["height:",";width:100%;margin:0 auto;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;overflow-y:hidden;transition:height 0.7s ease-in-out;.add-horse{position:fixed;bottom:",";padding:0;display:flex;align-items:center;align-self:center;background-color:white;border-style:none;border-width:0px;cursor:pointer;border-radius:999999px;&:hover,&:focus{background-color:",";}}"],(function(e){return e.show?"100vh":"0px"}),s.W.spaceXs,d.Z.pink[20]),j=((0,a.default)(P.G).withConfig({displayName:"styled__HorseProfilePic",componentId:"sc-1ummtq3-1"})(["height:128px !important;"]),a.default.ul.withConfig({displayName:"styled__HorseUl",componentId:"sc-1ummtq3-2"})(["width:calc(100% - 6px);padding:0 0 6px 0;margin-bottom:64px;overflow-y:scroll;list-style:none;li + li{margin-top:",";}li{display:grid;grid-template-columns:auto minmax(auto,100px);grid-column-gap:",";}.horse-button{display:flex;flex-direction:row;align-items:center;padding:"," ",";background-color:",";border-radius:",";cursor:pointer;box-shadow:hsl(0,0%,60%) 2px 2px 4px;&:hover,&:focus{background-color:",";.horse-name{color:white !important;}}@media (max-width:","){min-width:0;padding:"," ",";}}.link{display:flex;flex-direction:row;align-items:center;text-decoration:none;padding-right:",";.horse-image{margin:0 "," 0 0;}.horse-name{display:flex;align-items:center;min-width:",";font-size:",";font-weight:600;color:",";margin-left:",";}@media (max-width:","){.horse-image{margin:0 "," 0 0;}.horse-name{font-size:",";}}}.edit-button{display:flex;align-content:center;justify-content:center;padding:",";cursor:pointer;background-color:white;border-style:solid;border-width:1px;border-color:",";border-radius:",";box-shadow:hsl(0,0%,60%) 2px 2px 4px;span{margin:auto;height:16px;display:flex;align-content:center;justify-content:center;font-size:16px;line-height:16px;}svg{margin-right:",";height:16px;width:16px;}@media (max-width:","){padding:",";}}"],s.W.spaceXs,s.W.spaceXs,s.W.spaceSm,s.W.space2xs,d.Z.pineGreen[40],w.Z.large,d.Z.pineGreen[70],I.Z.w400,s.W.space3xs,s.W.space3xs,s.W.spaceMd,s.W.spaceMd,s.W.space4xl,v.Z.textLg,d.Z.text.primary,s.W.spaceMd,I.Z.w400,s.W.space2xs,v.Z.textMd,s.W.spaceXs,d.Z.pineGreen[80],w.Z.medium,s.W.spaceXs,I.Z.w400,s.W.space2xs)),z=a.default.div.withConfig({displayName:"styled__PlaceholderWrapper",componentId:"sc-1fltx8e-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;.svg-wrapper{width:",";height:",";border-radius:99px;border-width:1px;border-color:",";overflow:hidden;background-color:",";}svg{width:132px;height:132px;margin-left:-12px;margin-top:12px;path{fill:",";}}p{width:90%;color:",";text-align:center;}"],s.W.space4xl,s.W.space4xl,d.Z.greys[500],d.Z.greys[50],d.Z.greys[300],d.Z.greys[500]);function H(e){var t=e.openModal,n=e.cms;return r.createElement(z,null,r.createElement("div",{className:"svg-wrapper"},r.createElement(h.o,null)),r.createElement("p",null,n.CTA),r.createElement(x.z,{onClick:t,className:"primary"},n.Button))}var O=function(e){var t=e.fill,n=e.stroke,i=e.strokeLinecap,o=e.strokeLinejoin,a=e.strokeWidth,l=(e.width,e.height,{fill:t||"none",stroke:n||"#000",strokeLinecap:i||"round",strokeLinejoin:o||"round",strokeWidth:a||"2px"});return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l),r.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))},S=function(e){var t=e.fill,n=(e.stroke,e.strokeLinecap),i=e.strokeLineJoin,o=(e.strokeWidth,{fill:t||"none",strokeLinecap:n||"round",strokeLineJoin:i||"round",strokeWidth:"1px",height:"64px",width:"64px"});return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 52 52",style:o},r.createElement("path",{d:"M26 0C11.664 0 0 11.663 0 26s11.664 26 26 26 26-11.663 26-26S40.336 0 26 0zm0 50C12.767 50 2 39.233 2 26S12.767 2 26 2s24 10.767 24 24-10.767 24-24 24z"}),r.createElement("path",{d:"M38.5 25H27V14c0-.553-.448-1-1-1s-1 .447-1 1v11H13.5c-.552 0-1 .447-1 1s.448 1 1 1H25v12c0 .553.448 1 1 1s1-.447 1-1V27h11.5c.552 0 1-.447 1-1s-.448-1-1-1z"}))},B=n(8846);function X(e){var t=e.horses,n=e.show,i=e.openModal,a=e.isModalOpen,l=e.cms,s=(0,o.I0)(),c=function(e){s((0,W.yg)({selectedHorse:e}))};return r.createElement(_,{show:n},r.createElement(B.Z,null),r.createElement("p",{style:{margin:"0 auto"}},l.Erklaerung),r.createElement(j,null,t.length?t.map((function(e,t){return r.createElement("li",{key:"pferde-"+t},r.createElement(M.Link,{onClick:function(){return c({id:e.id})},to:N.Z.detailView(e.id),className:"link pferde-button"},r.createElement(k.x,{className:"large pferde-image"},e.profilePicture?r.createElement("img",{src:e.profilePicture,alt:"Pferd Profilbild"}):r.createElement(h.o,{fill:void 0,stroke:void 0,strokeLinecap:void 0,strokeLinejoin:void 0,strokeWidth:void 0})),r.createElement("p",{className:"horse-name"},e.name)),r.createElement("button",{className:"edit-button",onClick:function(){console.log("selecting",e.id),c({id:e.id}),i()}},r.createElement("span",null,r.createElement(O,{fill:void 0,stroke:void 0,strokeLinecap:void 0,strokeLinejoin:void 0,strokeWidth:void 0,width:void 0,height:void 0})," ","Edit")))})):r.createElement(H,{openModal:i,cms:l.Platzhalter})),r.createElement("button",{className:"add-horse",style:{display:Object.keys(t).length&&!a?"flex":"none"},onClick:i},r.createElement(S,{fill:d.Z.pineGreen[80],stroke:d.Z.pineGreen[80],strokeLinecap:void 0,strokeLineJoin:void 0,strokeWidth:void 0})))}var F=function(e){var t=e.cms,n=(0,o.v9)((function(e){return e.auth.user})),i=(0,C.T)(),a=(0,r.useState)(!1),l=a[0],s=a[1],d=(0,L.Ll)(null==n?void 0:n.id,{refetchOnMountOrArgChange:!0,skip:!(null!=n&&n.id)}).data;return(0,r.useEffect)((function(){console.log(d)}),[d]),r.createElement(c,null,r.createElement(X,{show:!l,openModal:function(){return s(!0)},isModalOpen:l,horses:d||[],cms:t}),r.createElement(Z,{closeModal:function(){s(!1),i((0,W.yg)({selectedHorse:W.g9.selectedHorse}))},cms:t.Modal,horses:d||[],isOpen:l}))};function A(e){return r.createElement(i.Z,{title:"Deine Pferde",showNavigation:!1,location:e.location,overflowY:"hidden",showGuideButton:!0},r.createElement(F,{cms:e.data.strapiListenansicht,logoBig:e.logoBig}))}}}]);
//# sourceMappingURL=component---src-pages-index-js-851fc140a34b976da3dd.js.map