"use strict";(self.webpackChunkhufschuhapp_frontend=self.webpackChunkhufschuhapp_frontend||[]).push([[922],{917:function(e,t,a){a.r(t),a.d(t,{CacheProvider:function(){return n.C},ClassNames:function(){return g},Global:function(){return s},ThemeContext:function(){return n.T},ThemeProvider:function(){return n.a},__unsafe_useEmotionCache:function(){return n._},createElement:function(){return c},css:function(){return d},jsx:function(){return c},keyframes:function(){return u},useTheme:function(){return n.u},withEmotionCache:function(){return n.w},withTheme:function(){return n.b}});var r=a(7294),n=(a(6898),a(3286)),i=(a(434),a(8679),a(8755)),o=a(9729),l=a(7278),c=function(e,t){var a=arguments;if(null==t||!n.h.call(t,"css"))return r.createElement.apply(void 0,a);var i=a.length,o=new Array(i);o[0]=n.E,o[1]=(0,n.c)(e,t);for(var l=2;l<i;l++)o[l]=a[l];return r.createElement.apply(null,o)},s=(0,n.w)((function(e,t){var a=e.styles,c=(0,o.O)([a],void 0,(0,r.useContext)(n.T)),s=(0,r.useRef)();return(0,l.j)((function(){var e=t.key+"-global",a=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,n=document.querySelector('style[data-emotion="'+e+" "+c.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),null!==n&&(r=!0,n.setAttribute("data-emotion",e),a.hydrate([n])),s.current=[a,r],function(){a.flush()}}),[t]),(0,l.j)((function(){var e=s.current,a=e[0];if(e[1])e[1]=!1;else{if(void 0!==c.next&&(0,i.My)(t,c.next,!0),a.tags.length){var r=a.tags[a.tags.length-1].nextElementSibling;a.before=r,a.flush()}t.insert("",c,a,!1)}}),[t,c.name]),null}));function d(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.O)(t)}var u=function(){var e=d.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},m=function e(t){for(var a=t.length,r=0,n="";r<a;r++){var i=t[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=e(i);else for(var l in o="",i)i[l]&&l&&(o&&(o+=" "),o+=l);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n};function p(e,t,a){var r=[],n=(0,i.fp)(e,r,a);return r.length<2?a:n+t(r)}var h=function(e){var t=e.cache,a=e.serializedArr;(0,l.L)((function(){for(var e=0;e<a.length;e++)(0,i.My)(t,a[e],!1)}));return null},g=(0,n.w)((function(e,t){var a=[],l=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var l=(0,o.O)(r,t.registered);return a.push(l),(0,i.hC)(t,l,!1),t.key+"-"+l.name},c={css:l,cx:function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return p(t.registered,l,m(a))},theme:(0,r.useContext)(n.T)},s=e.children(c);return!0,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(h,{cache:t,serializedArr:a}),s)}))},8670:function(e,t,a){a.d(t,{T:function(){return l}});var r=a(8498),n=a.n(r),i=a(4297),o=a(7294);const l=()=>o.createElement("div",{style:{margin:"auto auto"}},o.createElement(n(),{color:i.Z.primary[170],loading:!0,size:30}))},1768:function(e,t,a){a.r(t),a.d(t,{default:function(){return X}});var r=a(7294),n=a(2917),i=a(743),o=a(1001),l=a(8670),c=a(574),s=a(8117),d=a(6944),u=a(74),m=a(3989),p=a(4297),h=a(8135);const g=s.default.div.withConfig({displayName:"styled__CameraContainer",componentId:"sc-4bu8pl-0"})(["display:flex;flex-direction:",";height:100%;max-width:",";.message-block{position:absolute;width:100vw;height:100vh;z-index:6;background-color:hsla(0,0%,0%,75%);.message{position:absolute;top:calc((100vh - ",") / 2);left:calc((100vw - ",") / 2);display:flex;flex-direction:column;justify-content:center;box-sizing:border-box;padding:",";width:",";height:",";z-index:7;background-color:white;border-style:solid;border-color:red;}button{margin:auto;}}.orientation-block{position:absolute;width:100vw;height:100%;z-index:11;max-width:",";display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:white;p{margin:"," "," 0 ",";}.title{font-weight:bold;font-size:",";}.hint{font-size:",";}@media screen and (orientation:landscape){display:",";}@media screen and (orientation:portrait){display:",";}}"],(e=>e.landscape?"row":"column"),h.Z.desktopWidth,d.W.space5xl,d.W.space7xl,d.W.spaceMd,d.W.space7xl,d.W.space5xl,h.Z.desktopWidth,d.W.spaceMd,d.W.space2xs,d.W.space2xs,u.Z.textLg,u.Z.textMd,(e=>e.landscape?"none":"flex"),(e=>e.landscape?"flex":"none")),f=s.default.div.withConfig({displayName:"styled__CameraWrapper",componentId:"sc-4bu8pl-1"})(["height:",";width:100vw;max-width:",";background-color:black;video{width:100%;height:100%;}"],(e=>e.landscape?"100vh":"82%"),h.Z.desktopWidth),b=s.default.button.withConfig({displayName:"styled__HelpButton",componentId:"sc-4bu8pl-2"})(["position:absolute;top:",";left:calc(50% - "," / 2);z-index:4;width:",";height:",";display:flex;justify-content:center;align-items:center;border-style:solid;border-width:1px;border-color:white;border-radius:999px;background-color:",";color:white;font-weight:600;font-size:",";cursor:pointer;"],d.W.spaceMd,d.W.spaceMd,d.W.spaceLg,d.W.spaceLg,p.Z.greys[400],u.Z.textXl),x=s.default.div.withConfig({displayName:"styled__CameraMenu",componentId:"sc-4bu8pl-3"})(["height:",";width:",";display:flex;flex-direction:",";justify-content:center;align-items:center;background-color:black;.thumbnail{margin:auto;width:",";max-height:",";grid-area:1 / 1 / 2 / 2;}.takePictureButton{margin:auto;grid-area:1 / 2 / 2 / 3;width:",";max-height:",";min-height:",";padding:0;border-style:none;border-radius:999px;cursor:pointer;background-color:white;&:hover,&:focus{background-color:",";}}.picture-preview{margin:auto;grid-area:1 / 3 / 2 / 4;.picture-count{position:absolute;width:",";height:",";display:flex;align-items:center;justify-content:center;color:white;font-weight:600;font-size:",";background-color:hsla(0,0%,0%,0.5);text-shadow:black 2px 2px;}.picture-container{width:",";height:",";border-radius:",";}img{width:100%;height:100%;}}"],(e=>e.landscape?"100vh":"18vh"),(e=>e.landscape?"18vw":"100vw"),(e=>e.landscape?"column":"row"),d.W.space2xl,d.W.space2xl,d.W.space2xl,d.W.space2xl,d.W.space2xl,p.Z.greys[250],d.W.space2xl,d.W.space2xl,u.Z.textXl,d.W.space2xl,d.W.space2xl,m.Z.small);var w=a(6936),y=a(3310),v=a(3175);const E="30px",_="5px",k="20px",T="7px",I="black",F=s.default.div.withConfig({displayName:"styled__SpiritLevelStyles",componentId:"sc-urnsy3-0"})(["position:absolute;top:0;left:0;height:",";width:",";margin:"," 0 0 ",";.garden{border:"," solid #ccc;border-radius:10px;background-color:rgba(255,255,255,0.4);position:absolute;top:0;left:0;height:",";max-height:80%;width:",";margin:"," 0 0 ",";}.ball{position:absolute;background:rgb(0,0,0);border-radius:100%;width:",";height:",";top:calc(50% - calc("," / 2));left:calc(50% - calc("," / 2));}.balltarget{position:absolute;background-color:rgba(0,0,0,0);border-radius:100%;border:"," solid white;height:calc("," + 5px);width:calc("," + 5px);top:calc(50% - "," / 2 - 1.5 * ",");left:calc(50% - "," / 2 - 1.5 * ",");}.output{position:absolute;top:250px;width:100%;color:black;font-size:100%;background:rgba(255,255,255,0.7);}.userclick{position:absolute;top:300px;width:100px;height:50px;background:cyan;display:none;}.arrow-left{position:absolute;width:0;height:0;border-top:"," solid transparent;border-bottom:"," solid transparent;border-left:"," solid ",";top:calc(50% - ",");left:0%;}.arrow-right{position:absolute;width:0;height:0;border-top:"," solid transparent;border-bottom:"," solid transparent;border-right:"," solid ",";top:calc(50% - ",");left:calc(100% - ",");}.arrow-down-upper{position:absolute;width:0;height:0;border-left:"," solid transparent;border-right:"," solid transparent;border-top:"," solid ",";top:calc(2 * ",");left:calc((100% - 2 * "," - "," / 2) / 2);}.arrow-down-lower{position:absolute;width:0;height:0;border-left:"," solid transparent;border-right:"," solid transparent;border-top:"," solid ",";top:calc(3 * ",");left:calc((100% - 2 * "," - "," / 2) / 2);}.arrow-up-upper{position:absolute;width:0;height:0;border-left:"," solid transparent;border-right:"," solid transparent;border-bottom:"," solid ",";top:calc(100% - 3 * ",");left:calc((100% - 2 * "," - "," / 2) / 2);}.arrow-up-lower{position:absolute;width:0;height:0;border-left:"," solid transparent;border-right:"," solid transparent;border-bottom:"," solid ",";top:calc(100% - 2 * ",");left:calc((100% - 2 * "," - "," / 2) / 2);}@media screen and (orientation:portrait){.ball{}.balltarget{}.arrow-left{}.arrow-right{}.arrow-down-upper{}.arrow-down-lower{}.arrow-up-upper{}.arrow-up-lower{}}@media screen and (orientation:landscape){}"],d.W.space5xl,d.W.spaceXl,d.W.space2xs,d.W.space2xs,_,d.W.space5xl,d.W.spaceXl,d.W.space2xs,d.W.space2xs,E,E,E,E,_,E,E,E,_,E,_,k,k,k,I,k,k,k,k,I,k,k,T,T,T,I,T,_,T,T,T,T,I,T,_,T,T,T,T,I,T,_,T,T,T,T,I,T,_,T);var S=a(2830),W=a(7078);const C=s.default.div.withConfig({displayName:"PermissionModal__Modal",componentId:"sc-1c2ldyk-0"})(["position:absolute;top:calc(50vh - 100px);left:calc(50vw - 150px);width:300px;height:200px;box-sizing:border-box;z-index:10;padding:",";display:",";flex-direction:column;background-color:white;"],d.W.spaceSm,(e=>e.show?"flex":"none"));function N(e){let{setPermissionGranted:t,setMessage:a}=e;const{0:n,1:i}=(0,r.useState)(!1);return r.createElement(r.Fragment,null,r.createElement(W.x,{zIndex:9}),r.createElement(C,{show:!n},r.createElement("p",null,"Wir benötigen deine Erlaubnis, um auf die Bewegungssensoren deines Gerätes zugreifen zu können."),r.createElement(S.z,{className:"primary",onClick:()=>{!async function(){console.log("requesting permission"),DeviceOrientationEvent&&"function"==typeof DeviceOrientationEvent.requestPermission&&("granted"===await DeviceOrientationEvent.requestPermission()?(console.log("granted"),t(!0)):(console.log("denied"),a("Du hast den Zugriff auf die Bewegungssensoren deines Gerätes verweigert.")))}()}},"Ok")))}function M(e){let{landscapeMode:t,setVertical:a,setHorizontal:n}=e;const i=(0,r.useRef)(),o=(0,r.useRef)(),l=(0,r.useRef)(),c=Math.PI/180;function s(e){const r=e.beta,s=e.gamma,d=function(e,t,a){const r=t?t*c:0,n=a?a*c:0,i=e?e*c:0,o=Math.cos(r),l=Math.cos(n),s=Math.cos(i),d=Math.sin(r),u=Math.sin(n),m=Math.sin(i);return[s*l-m*d*u,-o*m,l*m*d+s*u,l*m+s*d*u,s*o,m*u-s*l*d,-o*u,d,o*l]}(e.alpha,r,s),u=function(){if(void 0!==window.onorientationchange)return window.orientation}();let m=0,p=0;const h=getComputedStyle(o.current),g=getComputedStyle(l.current),f=getComputedStyle(i.current),b=parseInt(h.width,10),x=parseInt(h.height,10),w=parseInt(h.getPropertyValue("border"),10),y=(parseInt(g.getPropertyValue("border-top"),10),parseInt(f.height),(x-2*w)/2),v=(b-2*w)/2;let E=0;if(0===u){var _=d[6];E=y-y*(k=d[8]),m=k>0?y-y*k:y+-1*y*k,p=_>0?v-v*_*2:v+-1*v*_*2}var k;-90===u&&(m=(k=d[8])>0?90-90*k:90+-90*k,p=(_=d[7])>0?30+-30*_:30-30*_);90===u&&(m=(k=d[8])>0?90-90*k:90+-90*k,p=(_=d[7])>0?30+30*_:30- -30*_);if(n(_),a(k),t?(i.current.style.top=m-30+"px",i.current.style.left=p-20+"px"):(i.current.style.top=m-10+"px",i.current.style.left=p-10+"px"),m>=y-3&&m<=y+3&&p>=v-2&&p<=v+2)i.current.style.backgroundColor="#00FF00";else{var T=230-160*(Math.abs(k)+Math.abs(_)),I=50*(Math.abs(k)+Math.abs(_));i.current.style.backgroundColor="rgb("+I.toFixed(0)+","+T.toFixed(0)+",0)"}}return(0,r.useEffect)((()=>{const e="undefined"!=typeof DeviceOrientationEvent&&"function"==typeof DeviceOrientationEvent.requestPermission?(DeviceOrientationEvent.requestPermission().then((e=>{"granted"===e&&window.addEventListener("deviceorientation",s)})).catch(console.error),3):5;return 5===e&&window.addEventListener("deviceorientation",s),()=>{window.removeEventListener("deviceorientation",s)}}),[]),r.createElement(F,null,r.createElement("div",{id:"container"},r.createElement("div",{className:"garden",ref:o},r.createElement("div",{className:"balltarget"}),r.createElement("div",{className:"ball",ref:i}),r.createElement("div",{className:"arrow-down-upper"}),r.createElement("div",{className:"arrow-down-lower"}),r.createElement("div",{className:"arrow-left",ref:l}),r.createElement("div",{className:"arrow-right"}),r.createElement("div",{className:"arrow-up-upper"}),r.createElement("div",{className:"arrow-up-lower"}))))}var z=a(3723);const H=s.default.div.withConfig({displayName:"styled__HelpModalWrapper",componentId:"sc-1os05gi-0"})(["position:absolute;top:2.5%;left:5%;width:90%;height:95%;max-width:",";z-index:5;box-sizing:border-box;display:",";flex-direction:column;margin:auto;padding:",";background-color:hsla(0,100%,100%,90%);@media only screen and (min-width:","){left:auto;right:auto;}.text{height:calc((100% - 2 * 12px - 24px - 46px) * 0.25);margin:0;padding:",";border-style:solid;border-width:2px;border-color:",";border-radius:",";}.image{height:calc((100% - 2 * 12px - 24px - 46px) * 0.7);width:100%;margin-top:",";display:flex;justify-content:center;img{object-fit:contain !important;}.gatsby-image-wrapper{width:100%;height:auto;}}.close{position:absolute;right:8px;margin:0 0 0 0;padding:0;height:36px;width:36px;border-style:solid;border-radius:8px;border-color:pink;font-size:",";cursor:pointer;background-color:white;}.button-row{margin-top:",";display:flex;justify-content:space-between;}.help-block-container{display:flex;flex-direction:",";}.left{width:50%;padding:0 ",";}.right{width:50%;padding:0 ",";}.right{.gatsby-image-wrapper{max-height:90vh;}}"],h.Z.desktopWidth,(e=>e.show?"flex":"none"),d.W.spaceXs,h.Z.desktopWidth,d.W.spaceXs,p.Z.greys[500],m.Z.medium,d.W.spaceMd,u.Z.textXl,d.W.space2xs,(e=>e.horizontal?"row":"column"),d.W.spaceXs,d.W.spaceXs),K=s.default.div.withConfig({displayName:"styled__HelpBlock",componentId:"sc-1os05gi-1"})(["padding:0 ",";max-height:70vh;height:70vh;display:flex;flex-direction:column;justify-content:center;align-self:center;border-style:solid;border-width:2px;border-color:",";border-radius:",";background-color:white;p{font-size:",";margin:"," 0;}.gatsby-image-wrapper{div{width:auto;}img{}}@media (max-height:380px){p{font-size:",";}}"],d.W.spaceXs,p.Z.greys[500],m.Z.medium,u.Z.textLg,d.W.spaceXs,u.Z.textMd),Z=(0,s.default)(z.G).withConfig({displayName:"styled__SmallImage",componentId:"sc-1os05gi-2"})(["width:",";margin:",";img{width:",";object-fit:contain;}"],(e=>e.width),(e=>"0 0 0 calc(0.5 * (100% - "+e.width+"))"),(e=>e.width));function D(e){switch(e){case"torso":return 2;case"fetlock":return 5;case"hoofWidth":case"hoofLength":return 7}}function j(e){let{page:t,left:a,texts:n,images:i}=e;switch(t){case 0:return a?r.createElement(K,null,r.createElement("p",null,n[0]),r.createElement(Z,{image:i[0],width:"140px"})):r.createElement(K,null,r.createElement("p",null,n[1]),r.createElement(Z,{image:i[1],width:"130px"}));case 1:return a?r.createElement(K,null,r.createElement("p",null,n[2])):r.createElement(K,null,r.createElement(Z,{image:i[3],width:"220px"}));case 2:return a?r.createElement(K,null,r.createElement("p",null,n[3])):r.createElement(K,null,r.createElement(Z,{image:i[4],width:"220px"}));case 3:return a?r.createElement(K,null,r.createElement("p",null,n[4])):r.createElement(K,null,r.createElement(Z,{image:i[5],width:"220px"}));case 4:return a?r.createElement(K,null,r.createElement("p",null,n[5])):r.createElement(K,null,r.createElement(Z,{image:i[1],width:"220px"}));case 5:return a?r.createElement(K,null,r.createElement("p",null,n[6])):r.createElement(K,{style:{backgroundColor:"#9e9e9e"}},r.createElement(Z,{image:i[6],width:"220px"}));case 6:return a?r.createElement(K,null,r.createElement("p",null,n[7])):r.createElement(K,{style:{backgroundColor:"#a8a9a9"}},r.createElement(Z,{image:i[7],width:"250px"}))}}var O=a(5054);function L(e){let{cms:t,show:a,close:n,pages:i,pos:o,target:l}=e;const{0:c,1:s}=(0,r.useState)(0),d=function(e){let{target:t,pos:a,cms:r}=e;switch(a){case"torso":return[r.Kamera_Texte.Koerper.Text_1,r.Kamera_Texte.Koerper.Text_2];case"fetlock":return[r.Kamera_Texte.Fessel.Text_1.replace("{target}",(0,y.ZQ)(t)),r.Kamera_Texte.Fessel.Text_2.replace("{target}",(0,y.ZQ)(t)),r.Kamera_Texte.Fessel.Text_3.replace("{target}",(0,y.ZQ)(t)),r.Kamera_Texte.Fessel.Text_4.replace("{target}",(0,y.ZQ)(t)),r.Kamera_Texte.Fessel.Text_5.replace("{target}",(0,y.ZQ)(t))];case"hoofWidth":return[r.Kamera_Texte.Huf.Text_1.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","breitesten"),r.Kamera_Texte.Huf.Text_2.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","breitesten"),r.Kamera_Texte.Huf.Text_3.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","breitesten"),r.Kamera_Texte.Huf.Text_4.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","breitesten"),r.Kamera_Texte.Huf.Text_5.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","breitesten"),r.Kamera_Texte.Huf.Text_6.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","breitesten"),r.Kamera_Texte.Huf.Text_7.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","breitesten"),r.Kamera_Texte.Huf.Text_8.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","breitesten")];case"hoofLength":return[r.Kamera_Texte.Huf.Text_1.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","längsten"),r.Kamera_Texte.Huf.Text_2.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","längsten"),r.Kamera_Texte.Huf.Text_3.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","längsten"),r.Kamera_Texte.Huf.Text_4.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","längsten"),r.Kamera_Texte.Huf.Text_5.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","längsten"),r.Kamera_Texte.Huf.Text_6.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","längsten"),r.Kamera_Texte.Huf.Text_7.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","längsten"),r.Kamera_Texte.Huf.Text_8.replace("{target}",(0,y.ZQ)(t)).replace("{mode}","längsten")]}}({target:l,pos:o,cms:t}),u=function(e){let{target:t,pos:a,cms:r}=e;switch(a){case"torso":return[r.Kamera_Texte.Koerper.Bild_1.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Koerper.Bild_2.localFile.childImageSharp.gatsbyImageData];case"fetlock":return[r.Thumbnails[(0,y.iH)(t)].localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Fessel.Bild_1.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Fessel.Bild_2.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Fessel.Bild_3.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Fessel.Bild_4.localFile.childImageSharp.gatsbyImageData];case"hoofWidth":return[r.Thumbnails[(0,y.iH)(t)].localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_Breite.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_1.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_2.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_3.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_4.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_5.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_6.localFile.childImageSharp.gatsbyImageData];case"hoofLength":return[r.Thumbnails[(0,y.iH)(t)].localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_Laenge.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_1.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_2.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_3.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_4.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_5.localFile.childImageSharp.gatsbyImageData,r.Kamera_Texte.Huf.Bild_6.localFile.childImageSharp.gatsbyImageData]}}({target:l,pos:o,cms:t}),m=i-1;function p(e){const t="next"===e?c+1:c-1;s(t<0?m:t>m?0:t)}return"fetlock"===o?r.createElement(r.Fragment,null,r.createElement(W.x,{style:{display:a?"flex":"none"}}),r.createElement(H,{show:a,horizontal:1!==o},r.createElement("div",{className:"blur"}),r.createElement("button",{className:"close",onClick:n},r.createElement(O.T,{stroke:"red",strokeWidth:"3px"})),r.createElement("p",{className:"text"},d[c]),r.createElement("div",{className:"image"},r.createElement(z.G,{image:u[c],alt:""})),r.createElement("div",{className:"button-row"},r.createElement(S.z,{className:"secondary",onClick:()=>p("previous")},"Vorherige"),r.createElement(S.z,{className:"primary",onClick:()=>p("next")},"Nächste")))):"torso"===o?r.createElement(r.Fragment,null,r.createElement(W.x,{style:{display:a?"flex":"none"}}),r.createElement(H,{show:a,horizontal:!0},r.createElement("button",{className:"close",onClick:n},r.createElement(O.T,{stroke:"red",strokeWidth:"3px"})),r.createElement("div",{className:"help-block-container"},r.createElement("div",{className:"left"},r.createElement(K,null,r.createElement("p",null,d[c]))),r.createElement("div",{className:"right"},r.createElement(K,{style:{backgroundColor:"#a8a9a9"}},r.createElement(Z,{image:u[c],alt:""})))),r.createElement("div",{className:"button-row"},r.createElement(S.z,{className:"secondary",onClick:()=>p("previous")},"Vorherige"),r.createElement(S.z,{className:"primary",onClick:()=>p("next")},"Nächste")))):"hoofLength"===o||"hoofWidth"===o?r.createElement(r.Fragment,null,r.createElement(W.x,{style:{display:a?"flex":"none"}}),r.createElement(H,{show:a,horizontal:!0},r.createElement("button",{className:"close",onClick:n},r.createElement(O.T,{stroke:"red",strokeWidth:"3px"})),r.createElement("div",{className:"help-block-container"},r.createElement("div",{className:"left"},j({page:c,left:!0,texts:d,images:u})),r.createElement("div",{className:"right"},j({page:c,left:!1,texts:d,images:u}))),r.createElement("div",{className:"button-row"},r.createElement(S.z,{className:"secondary",onClick:()=>p("previous")},"Vorherige"),r.createElement(S.z,{className:"primary",onClick:()=>p("next")},"Nächste")))):void 0}var P=a(3918);const B=e=>{let{fill:t,stroke:a,strokeLinecap:n,strokeLineJoin:i,strokeWidth:o}=e;return r.createElement("svg",{style:{width:"123px",height:"108px"}},r.createElement("g",null,r.createElement("path",{class:"st0",d:"M11.1,0h35.63c3.05,0,5.85,1.25,7.85,3.25c2.03,2.03,3.25,4.8,3.25,7.85v31.46h-3.19V12.18H3.15v75.26l0,0 h7.61v11.61c0,1.58,0.27,3.1,0.77,4.51H11.1c-3.05,0-5.85-1.25-7.85-3.25C1.22,98.27,0,95.51,0,92.45V11.1 c0-3.05,1.25-5.85,3.25-7.85C5.28,1.22,8.04,0,11.1,0L11.1,0L11.1,0z M94.95,33.45c-0.37-5.8-2.64-10.56-6.06-13.97 c-3.64-3.63-8.59-5.74-13.94-5.93l2.46,2.95c0.73,0.88,0.62,2.18-0.26,2.91c-0.88,0.73-2.18,0.62-2.91-0.26l-5.72-6.85l0,0 c-0.72-0.86-0.62-2.14,0.22-2.88l6.71-5.89c0.86-0.75,2.16-0.66,2.91,0.19c0.75,0.86,0.66,2.16-0.19,2.91l-3.16,2.78 c6.43,0.21,12.4,2.75,16.8,7.13c4.07,4.06,6.79,9.69,7.25,16.49l2.58-3.08c0.73-0.88,2.04-0.99,2.91-0.26 c0.88,0.73,0.99,2.04,0.26,2.91l-5.73,6.84c-0.72,0.86-1.99,0.99-2.87,0.29l-6.98-5.56c-0.89-0.71-1.04-2.01-0.33-2.91 c0.71-0.89,2.01-1.04,2.91-0.33L94.95,33.45L94.95,33.45z M122.88,59.7v35.63c0,3.05-1.25,5.85-3.25,7.85 c-2.03,2.03-4.8,3.25-7.85,3.25h-78.9c-3.05,0-5.85-1.25-7.85-3.25c-2.03-2.03-3.25-4.8-3.25-7.85V59.7c0-3.05,1.25-5.85,3.25-7.85 c2.03-2.03,4.79-3.25,7.85-3.25h78.9c3.05,0,5.85,1.25,7.85,3.25C121.66,53.88,122.88,56.64,122.88,59.7L122.88,59.7L122.88,59.7z M35.41,77.49c0,2.51-2.03,4.57-4.57,4.57c-2.51,0-4.57-2.03-4.57-4.57c0-2.51,2.03-4.57,4.57-4.57 C33.36,72.92,35.41,74.95,35.41,77.49L35.41,77.49L35.41,77.49z M37.88,51.75v51.49h72.82V51.75H37.88L37.88,51.75z"})))};var R=a(206);function Q(e){let{horse:t,target:a,pos:n,addImage:i,cms:o}=e;const l="torso"!==n,{0:s,1:d}=(0,r.useState)(),{0:u}=(0,r.useState)(new RegExp("iPhone|iPad|iPod").test("undefined"!=typeof window?navigator.userAgent:"")),{0:m,1:p}=(0,r.useState)(!0),{0:h,1:E}=(0,r.useState)({}),{0:_,1:k}=(0,r.useState)(),T=(0,r.useRef)(),I=(0,r.useRef)();console.log("POS",n);const{0:F,1:W}=(0,r.useState)([]),{0:C,1:z}=(0,r.useState)(0),{0:H,1:K}=(0,r.useState)(0),Z=a?null!=a&&a.startsWith("leg")?o.Thumbnails[(0,y.rr)(n)].localFile.childImageSharp.gatsbyImageData:o.Thumbnails.Koerper.localFile.childImageSharp.gatsbyImageData:null,{0:j,1:O}=(0,r.useState)(!0),{0:Q,1:V}=(0,r.useState)(""),{0:A}=(0,r.useState)(0);(0,r.useEffect)((()=>{var e,t;(!u||u&&m)&&(null===(e=Screen.orientation)||void 0===e||e.addEventListener("change",(()=>{d(Screen.orientation.type)})),d(null===(t=Screen.orientation)||void 0===t?void 0:t.type))}),[m]),(0,r.useEffect)((()=>{X().then((e=>{E(e.mediaRecorder),k(e.stream)})).catch((e=>{V("Du hast den Zugriff auf deine Kamera (temporär) verweigert. Bitte erlaube uns die Nutzung der Kamera, damit du Bilder von deinem Pferd aufnehmen kannst."),console.error(e)}))}),[]),(0,r.useEffect)((()=>()=>{try{_.getTracks()[0].stop()}catch(e){console.log(e)}}),[_]),(0,r.useEffect)((()=>{if(F.length>=3){try{_.getTracks()[0].stop()}catch(e){}(0,c.navigate)(w.Z.photoGuide({id:t.id,pos:n,target:a}))}}),[F]);const X=async()=>new Promise((async(e,t)=>{try{const t=await new Promise((async(e,t)=>{try{e(await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{ideal:"environment"}}}))}catch(a){t(a)}})).catch((e=>console.error(e)));(e=>{T.current&&(T.current.srcObject=e)})(t);const a=await(e=>new Promise(((t,a)=>{try{const a=new MediaRecorder(e);console.log("New MediaRecorder created"),t(a)}catch(r){console.log("Error in creating new MediaRecorder"),a(r)}})))(t);E(a),e({mediaRecorder:a,stream:t})}catch(a){R.Tb(a),console.log("Error in initializing MediaRecorder of fetching media devices stream"),t(a)}}));return r.createElement(g,{landscape:l,orientSupport:!!window.Screen.orientation},r.createElement(P.V,null),r.createElement("div",{className:"message-block",style:{display:Q?"flex":"none"}},r.createElement("div",{className:"message"},Q," ",r.createElement(S.z,{onClick:()=>{(0,c.navigate)(-1)},className:"primary",style:{display:0===A?"flex":"none"}},"Zurück"),r.createElement(S.z,{onClick:()=>{V("")},className:"primary",style:{display:1===A?"flex":"none"}},"Okay"))),r.createElement("div",{className:"orientation-block"},r.createElement(B,null),r.createElement("p",{className:"title"},"Bitte drehe dein Smartphone."),r.createElement("p",{className:"hint"},'Falls das automatische Drehen auf deinem Smartphone deaktiviert ist, kannst du es in den Einstellungen unter "Bedienungshilfen" aktivieren. Oder in den'," ",r.createElement("a",{href:"https://support.google.com/android/answer/9083864?hl=de"},"Schnelleinstellungen"),".")),r.createElement(b,{onClick:()=>{O(!0)}},"?"),r.createElement(L,{cms:o,pages:D(n),show:j,close:()=>{O(!1)},pos:n,target:a}),r.createElement(f,{landscape:l},r.createElement("video",{className:"recorder",ref:T,autoPlay:!0,playsInline:!0,muted:!0}),u&&!m?r.createElement(N,{setPermissionGranted:p,setMessage:V}):r.createElement(M,{landscapeMode:l,setHorizontal:z,setVertical:K})),r.createElement(x,{landscape:l},r.createElement(v.C,{image:Z,className:"thumbnail"}),r.createElement("button",{onClick:function(){console.log(H,C);try{const e=I.current,t=T.current,{width:a,height:r}=function(e){var t=e.videoWidth/e.videoHeight,a=e.offsetWidth,r=e.offsetHeight;a/r>t?a=r*t:r=a/t;return{width:a,height:r}}(t);e.width=a,e.height=r;e.getContext("2d").drawImage(t,0,0,a,r);const n=e.toDataURL("image/png");if(!(n.length>7))return void R.uT("image is not valid");console.log(n),console.log(F),i(n),W((e=>e.concat(n)))}catch(e){R.Tb(e)}},className:"takePictureButton"}),r.createElement("div",{className:"picture-preview"},r.createElement("span",{className:"picture-count"},F.length),r.createElement("div",{className:"picture-container"},F.map(((e,t)=>{if(t===F.length-1)return r.createElement("img",{src:e,alt:"Previews of the taken pictures",key:"picture-preview"+t})}))))),r.createElement("canvas",{ref:I,style:{display:"none"}}))}var V=a(3808);const A=e=>{let{cms:t,horseId:a}=e;const n=(0,i.v9)((e=>e.auth.user)),c=(0,i.I0)();if("undefined"==typeof window)return;const s=new Proxy(new URLSearchParams(location.search),{get:(e,t)=>e.get(t)}),{target:d,pos:u}=s,{data:m,isLoading:p}=(0,o.wD)({userId:null==n?void 0:n.id,horseId:a},{refetchOnMountOrArgChange:!0,skip:!a});return p?r.createElement(l.T,null):r.createElement(Q,{horse:m,target:d,pos:u,addImage:e=>{c((0,V.fo)({temporaryImage:e}))},cms:t})};function X(e){const{id:t,data:a,location:i}=e;return r.createElement(n.Z,{location:i,wrapContent:!1,showHeader:!1,horseId:t},r.createElement(A,{cms:a.strapiKamera,horseId:t}))}},5937:function(e,t,a){a.d(t,{M:function(){return s}});var r=a(7294);const n=e=>{let{fill:t,stroke:a,strokeLinecap:n,strokeLinejoin:i,strokeWidth:o,height:l,width:c}=e;const s={fill:t||"none",stroke:a||"#000",strokeLinecap:n||"round",strokeLinejoin:i||"round",strokeWidth:o||"1px",width:c||24,height:l||24};return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",style:s},r.createElement("polyline",{points:"9 11 12 14 22 4"}),r.createElement("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}))};var i=a(4297),o=a(8117),l=a(3989);const c=o.default.div.withConfig({displayName:"Checkmark__Styles",componentId:"sc-1bw7y0i-0"})(["background-color:white;border-radius:",";height:24px;"],l.Z.small);function s(e){let{completed:t}=e;return r.createElement(c,null,r.createElement(n,{stroke:t?i.Z.lightGreen[80]:i.Z.greys[500],strokeWidth:t?"2px":"1px"}))}},3175:function(e,t,a){a.d(t,{C:function(){return s}});var r=a(7294),n=a(3723),i=a(8117),o=a(5937);const l=i.default.div.withConfig({displayName:"ImageWithSkeleton__Overlay",componentId:"sc-1bpcma3-0"})(["position:absolute;display:",";justify-content:center;align-items:center;height:64px;width:64px;z-index:2;background-color:hsla(0,0%,30%,70%);border-radius:10px;font-size:64px;color:lightgreen;"],(e=>e.completed?"flex":"none")),c=i.default.div.withConfig({displayName:"ImageWithSkeleton__ImageCheckmark",componentId:"sc-1bpcma3-1"})(["display:",";position:absolute;margin:-20px 0 0 48px;font-size:1.2rem;"],(e=>e.show?"flex":"none"));function s(e){let{image:t,height:a,width:i,className:s,showCheckmark:d,checked:u}=e;return t?r.createElement(r.Fragment,null,r.createElement(l,{completed:u},"✓"),r.createElement(n.G,{image:t,className:s,alt:"Thumbnail"}),r.createElement(c,{show:d},r.createElement(o.M,{completed:u}))):r.createElement("div",{style:{height:a,width:i}})}},3310:function(e,t,a){function r(e){switch(e){case"legFR":return"Bein_VR";case"legFL":return"Bein_VL";case"legHR":return"Bein_HR";case"legHL":return"Bein_HL";case"torso":return"Koerper"}}function n(e){switch(e){case"torso":return"Koerper";case"fetlock":return"Fessel";case"hoofWidth":return"Hufbreite";case"hoofLength":return"Huflaenge"}}function i(e){switch(e){case"legFR":return"vorderen rechten";case"legFL":return"vorderen linken";case"legHR":return"hinteren rechten";case"legHL":return"hinteren linken"}}a.d(t,{ZQ:function(){return i},iH:function(){return r},rr:function(){return n}})},8498:function(e,t,a){var r,n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},r(e,t)},function(e,t){function a(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),o=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&o(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s,d,u=c(a(7294)),m=a(917),p=a(1776),h=m.keyframes(s||(s=n(["\n  50% {transform: scale(0.75);opacity: 0.2}\n  100% {transform: scale(1);opacity: 1}\n"],["\n  50% {transform: scale(0.75);opacity: 0.2}\n  100% {transform: scale(1);opacity: 1}\n"]))),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.style=function(e){var a=t.props,r=a.color,i=a.size,o=a.margin,l=a.speedMultiplier;return m.css(d||(d=n(["\n      display: inline-block;\n      background-color: ",";\n      width: ",";\n      height: ",";\n      margin: ",";\n      border-radius: 100%;\n      animation: "," ","s ","\n        infinite linear;\n      animation-fill-mode: both;\n    "],["\n      display: inline-block;\n      background-color: ",";\n      width: ",";\n      height: ",";\n      margin: ",";\n      border-radius: 100%;\n      animation: "," ","s ","\n        infinite linear;\n      animation-fill-mode: both;\n    "])),r,p.cssValue(i),p.cssValue(i),p.cssValue(o),h,.7/l,e%2?"0s":.35/l+"s")},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,a=e.css;return t?m.jsx("span",{css:[a]},m.jsx("span",{css:this.style(1)}),m.jsx("span",{css:this.style(2)}),m.jsx("span",{css:this.style(3)})):null},t.defaultProps=p.sizeMarginDefaults(15),t}(u.PureComponent);t.default=g},4333:function(e,t){var a;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRgba=void 0,function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"}(a||(a={}));t.calculateRgba=function(e,t){if(Object.keys(a).includes(e)&&(e=a[e]),"#"===e[0]&&(e=e.slice(1)),3===e.length){var r="";e.split("").forEach((function(e){r+=e,r+=e})),e=r}return"rgba("+(e.match(/.{2}/g)||[]).map((function(e){return parseInt(e,16)})).join(", ")+", "+t+")"}},1776:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(9710),t),n(a(4333),t),n(a(6657),t)},9710:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.heightWidthRadiusDefaults=t.heightWidthDefaults=t.sizeMarginDefaults=t.sizeDefaults=void 0;var a={loading:!0,color:"#000000",css:"",speedMultiplier:1};function r(e){return Object.assign({},a,{size:e})}function n(e,t){return Object.assign({},a,{height:e,width:t})}t.sizeDefaults=r,t.sizeMarginDefaults=function(e){return Object.assign({},r(e),{margin:2})},t.heightWidthDefaults=n,t.heightWidthRadiusDefaults=function(e,t,a){return void 0===a&&(a=2),Object.assign({},n(e,t),{radius:a,margin:2})}},6657:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var a={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var n=(e.match(/[^0-9]*$/)||"").toString();return a[n]?{value:t,unit:n}:(console.warn("React Spinners: "+e+" is not a valid css value. Defaulting to "+t+"px."),{value:t,unit:"px"})}t.parseLengthAndUnit=r,t.cssValue=function(e){var t=r(e);return""+t.value+t.unit}}}]);
//# sourceMappingURL=component---src-pages-pferde-[id]-kamera-tsx-17b2e84f5d0e2c7cd037.js.map